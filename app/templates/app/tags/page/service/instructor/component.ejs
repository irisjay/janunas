<layout-default>
	
	
	<div id="wrap">
		<div id="content">
			<h2 style="margin:20px">{
										value (my ('component_order'), '.name') (
											assemble (
												value (my ('module_order'), '.component_set') (
													assemble (my ('course', '.course .module_set'))
												)
											)
										)
			}</h2>
			<p style="margin:20px">{
										value (my ('component_order'), '.content') (
											assemble (
												value (my ('module_order'), '.component_set') (
													assemble (my ('course', '.course .module_set))
												)
											)
										)
			}</p>
		</div>
		<div style="clear: both;"> </div>
	</div>
	
</layout-default>

<script>
	(function (self) {
		remembers ({
			course: undefined,
			module_order: undefined,
			component_order: undefined
		}) (self);
		
		most .mergeArray ([
			most .fromEvent ('course', self),
			most .fromEvent ('module_order', self),
			most .fromEvent ('component_order', self)
		])
		.tap (display_errors)
		.observe (function () {
			self .update ();
		});
	
		remembers ({
			input:	function (args) {
						var course_id = args [0];
						var module_order = args [1];
						var component_order = args [2];
				
						self .emit ('module_order', module_order);
						self .emit ('component_order', component_order);
				
						most .just ()
							.thru (content .course (course_id) )
							.observe (function (course) {
								self .emit ('course', course);
							});
					}
		});
	})(this);
</script>

