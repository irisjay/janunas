<model-themer>
    <fieldset>
        <label>Course name:<input name="course_name" type="text" placeholder="Wow. Such course."></label>
        <label>Course description:<textarea name="course_description" cols="40" rows="3" placeholder="Much course" /></label>
    </fieldset>
    
    <button type="submit" name="add_course">
        Add course!
    </button>
</model-themer>

<script>
(function (self) {
    self .on ('mount', function () {
        var course_name = self .root .querySelector ('input[name="course_name"]');
        var course_description = self .root .querySelector ('textarea[name="course_description"]');
        var add_course = self .root .querySelector ('button[name="add_course"]');
        
        add_course .addEventListener ('click', function () {
            self .stuff .one ('new', function (response) {
                if (! response .error) {
                    window .location .hash = '#service/instructor/'
                }
            })
            self .stuff .trigger ('new', {
                course_name: course_name .value,
                course_description: course_description .value
            });
        });
    });
})(this);
</script>
